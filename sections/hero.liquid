<section
  class="hero full-width"
  style="
    --hero-min-height-desktop: {{ section.settings.min_height_desktop }}vh;
    --hero-min-height-mobile: {{ section.settings.min_height_mobile }}vh;
    --hero-text-align-desktop: {{ section.settings.text_alignment_desktop }};
    --hero-text-align-mobile: {{ section.settings.text_alignment_mobile }};
    --hero-content-width: {{ section.settings.content_width }}%;
  "
>
  {% if section.settings.background_image %}
    <div class="hero__background">
      {{ section.settings.background_image | image_url: width: 2000 | image_tag: loading: 'eager', class: 'hero__background-image' }}
      <div class="hero__overlay" style="--overlay-opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }};"></div>
    </div>
  {% endif %}

  <div class="hero__content">
    {% if section.settings.eyebrow != blank %}
      <p class="hero__eyebrow">{{ section.settings.eyebrow }}</p>
    {% endif %}

    {% if section.settings.heading != blank %}
      <h1 class="hero__heading">{{ section.settings.heading }}</h1>
    {% endif %}

    {% if section.settings.subheading != blank %}
      <p class="hero__subheading">{{ section.settings.subheading }}</p>
    {% endif %}

    {% if section.settings.button_text != blank or section.settings.button_text_secondary != blank %}
      <div class="hero__actions {% if section.settings.stack_buttons_mobile %}hero__actions--stack-mobile{% endif %}">
        {% if section.settings.button_text != blank %}
          <a href="{{ section.settings.button_url }}" class="btn btn--primary btn--lg">
            {{ section.settings.button_text }}
          </a>
        {% endif %}

        {% if section.settings.button_text_secondary != blank %}
          <a href="{{ section.settings.button_url_secondary }}" class="btn btn--outline btn--lg">
            {{ section.settings.button_text_secondary }}
          </a>
        {% endif %}
      </div>
    {% endif %}
  </div>
</section>

{% stylesheet %}
  .hero {
    position: relative;
    min-height: var(--hero-min-height-mobile);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: var(--hero-text-align-mobile);
    padding: var(--space-3xl) var(--page-margin-mobile);
    overflow: hidden;
  }

  .hero__background {
    position: absolute;
    inset: 0;
    z-index: -1;
  }

  .hero__background-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .hero__overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(0, 0, 0, var(--overlay-opacity, 0.3));
  }

  .hero__content {
    max-width: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    animation: heroFadeIn 0.8s ease-out;
  }

  .hero[style*="text-align-mobile: center"] .hero__content {
    align-items: center;
  }

  .hero__eyebrow {
    font-size: var(--font-size-sm);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-primary);
    margin: 0;
  }

  .hero:has(.hero__background) .hero__eyebrow {
    color: var(--color-primary-text);
    opacity: 0.9;
  }

  .hero__heading {
    font-size: clamp(2rem, 8vw, 4.5rem);
    font-weight: 600;
    line-height: 1.1;
    letter-spacing: -0.03em;
    margin: 0;
  }

  .hero:has(.hero__background) .hero__heading {
    color: var(--color-primary-text);
  }

  .hero__subheading {
    font-size: var(--font-size-base);
    line-height: 1.6;
    color: var(--color-text-muted);
    margin: 0;
    max-width: 40ch;
  }

  .hero:has(.hero__background) .hero__subheading {
    color: var(--color-primary-text);
    opacity: 0.85;
  }

  .hero__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
    margin-top: var(--space-sm);
  }

  .hero__actions--stack-mobile {
    flex-direction: column;
  }

  .hero__actions--stack-mobile .btn {
    width: 100%;
  }

  .hero:has(.hero__background) .btn--outline {
    border-color: var(--color-primary-text);
    color: var(--color-primary-text);
  }

  .hero:has(.hero__background) .btn--outline:hover {
    background-color: var(--color-primary-text);
    color: var(--color-text);
  }

  @keyframes heroFadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (min-width: 768px) {
    .hero {
      min-height: var(--hero-min-height-desktop);
      text-align: var(--hero-text-align-desktop);
      padding: var(--space-4xl) var(--page-margin);
    }

    .hero__content {
      max-width: calc(var(--hero-content-width) * 1%);
      gap: var(--space-lg);
    }

    .hero[style*="text-align-desktop: center"] .hero__content {
      align-items: center;
    }

    .hero[style*="text-align-desktop: left"] .hero__content {
      align-items: flex-start;
    }

    .hero__heading {
      font-size: clamp(2.5rem, 5vw, 4.5rem);
    }

    .hero__subheading {
      font-size: var(--font-size-lg);
    }

    .hero__actions {
      margin-top: var(--space-md);
    }

    .hero__actions--stack-mobile {
      flex-direction: row;
    }

    .hero__actions--stack-mobile .btn {
      width: auto;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.hero.name",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "t:sections.hero.content_header"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "t:sections.hero.eyebrow",
      "default": "Welcome to Misu"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:sections.hero.heading",
      "default": "Nourish your day with nature's best grains"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "t:sections.hero.subheading",
      "default": "Discover our collection of premium grain-mix drinks, crafted for taste, health, and everyday wellness."
    },
    {
      "type": "header",
      "content": "t:sections.hero.primary_button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "t:sections.hero.button_text",
      "default": "Shop collection"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "t:sections.hero.button_url",
      "default": "/collections/all"
    },
    {
      "type": "header",
      "content": "t:sections.hero.secondary_button"
    },
    {
      "type": "text",
      "id": "button_text_secondary",
      "label": "t:sections.hero.button_text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "button_url_secondary",
      "label": "t:sections.hero.button_url",
      "default": "/pages/about"
    },
    {
      "type": "header",
      "content": "t:sections.hero.background"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "t:sections.hero.background_image"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "t:sections.hero.overlay_opacity",
      "min": 0,
      "max": 80,
      "step": 5,
      "default": 30,
      "unit": "%"
    },
    {
      "type": "header",
      "content": "t:sections.hero.desktop_layout"
    },
    {
      "type": "range",
      "id": "min_height_desktop",
      "label": "t:sections.hero.min_height",
      "min": 50,
      "max": 100,
      "step": 5,
      "default": 80,
      "unit": "vh"
    },
    {
      "type": "range",
      "id": "content_width",
      "label": "t:sections.hero.content_width",
      "min": 40,
      "max": 100,
      "step": 5,
      "default": 60,
      "unit": "%"
    },
    {
      "type": "select",
      "id": "text_alignment_desktop",
      "label": "t:sections.hero.text_alignment",
      "options": [
        { "value": "left", "label": "t:sections.hero.align_left" },
        { "value": "center", "label": "t:sections.hero.align_center" }
      ],
      "default": "center"
    },
    {
      "type": "header",
      "content": "t:sections.hero.mobile_layout"
    },
    {
      "type": "range",
      "id": "min_height_mobile",
      "label": "t:sections.hero.min_height",
      "min": 40,
      "max": 100,
      "step": 5,
      "default": 60,
      "unit": "vh"
    },
    {
      "type": "select",
      "id": "text_alignment_mobile",
      "label": "t:sections.hero.text_alignment",
      "options": [
        { "value": "left", "label": "t:sections.hero.align_left" },
        { "value": "center", "label": "t:sections.hero.align_center" }
      ],
      "default": "center"
    },
    {
      "type": "checkbox",
      "id": "stack_buttons_mobile",
      "label": "t:sections.hero.stack_buttons_mobile",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "t:sections.hero.name"
    }
  ]
}
{% endschema %}
